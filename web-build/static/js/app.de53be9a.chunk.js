(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n(186)},158:function(e,t,n){e.exports=n.p+"static/media/developer.6dd8ecdc.jpg"},159:function(e,t,n){n(10)},186:function(e,t,n){"use strict";n.r(t);var r=n(196),c=(n(185),n(0)),a=n(4),s=n(3),o=n(14),i=n(45),l=a.a.create({container:{padding:24,flex:1},title:{fontSize:32,fontWeight:"bold",textAlign:"center"},subtitle:{fontSize:24,fontWeight:"bold",textAlign:"center"},text:{fontSize:16},pic:{width:100,height:100,borderRadius:30},splitscreen:{flexDirection:"row",padding:10,backgroundColor:"#add8e6",borderWidth:1,borderColor:"black",borderRadius:20,justifyContent:"space-evenly"}}),u=n(5),d=n.n(u),f=n(2),j=n.n(f),b=n(98),h=n(10),p=Object(c.createContext)(null),x=function(e){var t=e.value,n=e.tag,r=e.children,a=Object(c.useState)(t),s=d()(a,2),o=s[0],i=s[1];Object(c.useEffect)((function(){l()}),[]);var l=function(){var e,r;return j.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,j.a.awrap(b.a.getItem(n));case 3:e=c.sent,r=null,null!=e?(console.log("just retrieved jsonValue as "+e),r=JSON.parse(e),i(r)):(console.log("retrieved null, using default value"),i(t)),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.dir(c.t0);case 11:case"end":return c.stop()}}),null,null,[[0,8]],Promise)};return Object(h.jsx)(p.Provider,{value:{currentValue:o,setCurrentValue:function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("in storeData"),i(e),t.next=5,j.a.awrap(b.a.setItem(n,JSON.stringify(e)));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.dir(t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}},children:r})},O=function(){return Object(c.useContext)(p)},y=function(){var e=O().currentValue;return Object(h.jsxs)(s.a,{style:l.containter,children:[Object(h.jsx)(o.a,{style:l.title,children:"Eric Hu"}),Object(h.jsx)(o.a,{style:l.subtitle,children:"erichu@brandeis.edu"}),Object(h.jsxs)(s.a,{style:l.splitscreen,children:[Object(h.jsx)(i.a,{style:l.pic,source:n(158)}),Object(h.jsx)(o.a,{style:l.text,children:"Im a rising senior at Brandeis University studying Computer Science and minoring in Asian American Pacific Islander Studies and Film and Interactive Media"})]}),Object(h.jsx)(o.a,{style:l.text,children:"This application ask for the user's location (or they can enter it themselves) and shows fun activities and resturants around the user's location or at the searched location"}),Object(h.jsxs)(o.a,{children:[" currentValue = ",JSON.stringify(e)," "]})]})},v=n(92),g=n(83),m=n(85),w=n(91),S=n(93),C=n(99);n(159);var E=function(e,t){var n,r;return j.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log("In WeatherAPI"),c.next=3,j.a.awrap(fetch("http://api.weatherapi.com/v1/current.json?key=dab7f57ce9c6486e983182326211606&q="+e+"&aqi=no"));case 3:return n=c.sent,c.next=6,j.a.awrap(n.json());case 6:r=c.sent,t(r);case 8:case"end":return c.stop()}}),null,null,null,Promise)};var P=function(e,t,n){var r,c,a;return j.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j.a.awrap(fetch("https://yelp-backend.netlify.app/.netlify/functions/search?location="+e+"&term="+t));case 2:return r=s.sent,s.next=5,j.a.awrap(r.json());case 5:c=s.sent,a=c.businesses,n(a);case 8:case"end":return s.stop()}}),null,null,null,Promise)};function k(e){return e?Object(h.jsx)(o.a,{style:{color:"red"},children:"CLOSED"}):Object(h.jsx)(o.a,{style:{color:"green"},children:"OPEN"})}var I=function(e){return j.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.awrap(S.a.canOpenURL(e));case 2:S.a.openURL(e).catch((function(e){return console.error("Couldn't load page",e)}));case 3:case"end":return t.stop()}}),null,null,null,Promise)},J=function(){var e,t,n,r,a=Object(c.useState)([]),u=d()(a,2),f=u[0],b=u[1],p=Object(c.useState)([]),x=d()(p,2),y=x[0],S=x[1],J=Object(c.useState)(!0),N=d()(J,2),A=(N[0],N[1]),V=Object(c.useState)(!1),W=d()(V,2),D=(W[0],W[1]),R=Object(c.useState)([]),z=d()(R,2),F=z[0],L=z[1],M=Object(c.useState)("waltham"),T=d()(M,2),U=T[0],_=T[1],q=Object(c.useState)([]),B=d()(q,2),H=B[0],G=B[1],K=Object(c.useState)("food"),Q=d()(K,2),X=Q[0],Y=Q[1],Z=O(),$=(Z.currentValue,Z.setCurrentValue),ee=function(){return j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("trying to set activity"),A(!0),P(U,X,(function(e){return S(e)})),console.log("activity set"),D(!1)}catch(t){console.error(t),D(!0)}finally{A(!1)}case 1:case"end":return e.stop()}}),null,null,null,Promise)};return Object(c.useEffect)((function(){(function(){var e,t;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(C.b());case 2:if(e=n.sent,"granted"===e.status){n.next=7;break}return setErrorMsg("Permission to access location was denied"),n.abrupt("return");case 7:return n.next=9,j.a.awrap(C.a({}));case 9:t=n.sent,console.log(t),_(t.coords.latitude+","+t.coords.longitude);case 12:case"end":return n.stop()}}),null,null,null,Promise)})().catch((function(e){return console.error("user denied permission",e)}))}),[]),Object(c.useEffect)((function(){j.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("trying to set weather"),A(!0),E(U,(function(e){return b(e)})),console.log("Weather properly set"),console.log(JSON.stringify(f)),D(!1)}catch(t){console.error(t),D(!0)}finally{A(!1)}case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[U]),Object(c.useEffect)((function(){ee()}),[X]),Object(c.useEffect)((function(){ee()}),[U]),Object(c.useEffect)((function(){var e,t;$({city:null==(e=f.location)?void 0:e.name,state:null==(t=f.location)?void 0:t.region})}),[f]),Object(h.jsxs)(w.a,{style:l.container,children:[Object(h.jsx)(o.a,{style:l.title,children:"Welcome to Explorer!"}),Object(h.jsx)(o.a,{children:"Enter a location to find the weather"}),Object(h.jsx)(v.a,{placeholder:"Enter your location",onChangeText:function(e){return L(e)}}),Object(h.jsx)(m.a,{title:"Search",onPress:function(){_(F)}}),Object(h.jsx)(o.a,{children:"Enter a activity you would like to do"}),Object(h.jsx)(v.a,{placeholder:"Enter an activity",onChangeText:function(e){return G(e)}}),Object(h.jsx)(m.a,{title:"Search",onPress:function(){Y(H)}}),Object(h.jsxs)(o.a,{children:["In ",JSON.stringify(null==(e=f.location)?void 0:e.name),", it's currently ",JSON.stringify(null==(t=f.current)?void 0:t.temp_f)," \xb0F (",JSON.stringify(null==(n=f.current)?void 0:n.temp_c)," \xb0C) and ",JSON.stringify(null==(r=f.current)?void 0:r.condition.text)]}),console.log("Display Flatlist"),Object(h.jsx)(g.a,{data:y,keyExtractor:function(e,t){return e.id},renderItem:function(e){var t=e.item;return Object(h.jsxs)(w.a,{style:l.splitscreen,children:[Object(h.jsxs)(s.a,{children:[Object(h.jsx)(o.a,{onPress:function(){return I(t.url)},style:{color:"blue"},children:t.name}),Object(h.jsxs)(o.a,{children:[t.location.address1," "]}),Object(h.jsxs)(o.a,{children:[" ",t.location.city," ",t.location.state]}),k(t.isClosed)]}),Object(h.jsx)(i.a,{style:l.pic,source:{uri:t.image_url}})]})}})]})},N=n(194),A=n(195),V=Object(A.a)();function W(){return Object(h.jsxs)(V.Navigator,{children:[Object(h.jsx)(V.Screen,{name:"Search",component:J}),Object(h.jsx)(V.Screen,{name:"About",component:y})]})}function D(){return Object(h.jsx)(N.a,{children:Object(h.jsx)(W,{})})}a.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});var R={city:"Waltham",state:"MA",email:"erichu@brandeis.edu"};Object(r.a)((function(){return Object(h.jsx)(x,{value:R,tag:"explorer",children:Object(h.jsx)(D,{})})}))}},[[145,1,2]]]);
//# sourceMappingURL=app.de53be9a.chunk.js.map